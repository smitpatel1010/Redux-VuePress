<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuring Your Store | Redux</title>
    <meta name="description" content="A predictable state container for JavaScript apps.">
    
    
    <link rel="preload" href="/Redux-VuePress/assets/css/0.styles.9806c749.css" as="style"><link rel="preload" href="/Redux-VuePress/assets/js/app.8c65f330.js" as="script"><link rel="preload" href="/Redux-VuePress/assets/js/52.3368200f.js" as="script"><link rel="prefetch" href="/Redux-VuePress/assets/js/10.f297c3a7.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/11.a2c652c1.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/12.513e693e.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/13.88196950.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/14.3806e2ce.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/15.b8c9a5e1.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/16.6121b3bc.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/17.79743fca.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/18.7d6ecf90.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/19.686eccfd.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/2.ae38e971.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/20.1350d427.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/21.9af1161b.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/22.57dc1914.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/23.adb31bd9.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/24.eee4623e.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/25.2f591465.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/26.81b27b86.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/27.9e1ac337.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/28.94e1ef2a.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/29.4b8c6426.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/3.858b79f4.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/30.6dad1db7.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/31.89f70931.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/32.2091a300.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/33.2303c235.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/34.087cdd0a.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/35.4bda516a.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/36.63e0a6f4.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/37.19a47d0d.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/38.ddf95f59.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/39.1afba7ab.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/4.75a7df39.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/40.99e15558.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/41.91b96544.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/42.c366e927.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/43.bdf434f6.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/44.635a49bb.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/45.71e389a1.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/46.633b3d17.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/47.500a07d9.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/48.12801231.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/49.b3d3d11f.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/5.7b89c04a.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/50.635757a5.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/51.cba0e4a6.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/53.712b9e99.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/54.34642ea0.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/55.f1db5e56.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/56.c1bd4016.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/57.70c135cd.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/58.2a1ef24f.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/59.bd926244.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/6.f4919b51.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/60.298af4f8.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/61.0d1d1e77.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/62.8206427d.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/63.47018656.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/64.dc3afa73.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/65.d8b80998.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/66.54ad3434.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/67.f9892972.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/68.0d7bb2de.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/69.a3058151.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/7.8eecbfa5.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/70.473fbcf3.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/71.1298e488.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/72.eab85d6a.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/73.02eeea2c.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/74.92541545.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/75.2ac1766d.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/8.8aeac081.js"><link rel="prefetch" href="/Redux-VuePress/assets/js/9.e43a4b55.js">
    <link rel="stylesheet" href="/Redux-VuePress/assets/css/0.styles.9806c749.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Redux-VuePress/" class="home-link router-link-active"><!----> <span class="site-name">Redux</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Redux-VuePress/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Redux-VuePress/introduction/GettingStarted.html" class="nav-link">Getting Started</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Redux-VuePress/" class="nav-link">Home</a></div><div class="nav-item"><a href="/Redux-VuePress/introduction/GettingStarted.html" class="nav-link">Getting Started</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Basic Tutorial</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Advanced Tutorial</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Recipes</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Redux-VuePress/recipes/recipes.html" class="sidebar-link">Recipes: Index</a></li><li><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html" class="active sidebar-link">Configuring Your Store</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#creating-the-store" class="sidebar-link">Creating the store</a></li><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#extending-redux-functionality" class="sidebar-link">Extending Redux functionality</a></li><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#problems-with-this-approach" class="sidebar-link">Problems with this approach</a></li><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#the-solution-configurestore" class="sidebar-link">The solution: configureStore</a></li><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#integrating-the-devtools-extension" class="sidebar-link">Integrating the devtools extension</a></li><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#hot-reloading" class="sidebar-link">Hot reloading</a></li><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#simplifying-setup-with-redux-starter-kit" class="sidebar-link">Simplifying Setup with Redux Starter Kit</a></li><li class="sidebar-sub-header"><a href="/Redux-VuePress/recipes/ConfiguringYourStore.html#next-steps" class="sidebar-link">Next Steps</a></li></ul></li><li><a href="/Redux-VuePress/recipes/MigratingToRedux.html" class="sidebar-link">Migrating to Redux</a></li><li><a href="/Redux-VuePress/recipes/UsingObjectSpreadOperator.html" class="sidebar-link">Using Object Spread Operator</a></li><li><a href="/Redux-VuePress/recipes/ReducingBoilerplate.html" class="sidebar-link">Reducing Boilerplate</a></li><li><a href="/Redux-VuePress/recipes/ServerRendering.html" class="sidebar-link">Server Rendering</a></li><li><a href="/Redux-VuePress/recipes/WritingTests.html" class="sidebar-link">Writing Tests</a></li><li><a href="/Redux-VuePress/recipes/ComputingDerivedData.html" class="sidebar-link">Computing Derived Data</a></li><li><a href="/Redux-VuePress/recipes/ImplementingUndoHistory.html" class="sidebar-link">Implementing Undo History</a></li><li><a href="/Redux-VuePress/recipes/IsolatingSubapps.html" class="sidebar-link">Isolating Subapps</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Other</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="configuring-your-store"><a href="#configuring-your-store" aria-hidden="true" class="header-anchor">#</a> Configuring Your Store</h1> <p>In the <a href="/Redux-VuePress/basics/">basics section</a>, we introduced the fundamental Redux concepts by building an example Todo list app.</p> <p>We will now explore how to customise the store to add extra functionality. We'll start with the source code from the basics section, which you can view in <a href="/Redux-VuePress/basics/ExampleTodoList.html">the documentation</a>, in <a href="https://github.com/reduxjs/redux/tree/master/examples/todos/src" target="_blank" rel="noopener noreferrer">our repository of examples<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, or <a href="https://codesandbox.io/s/github/reduxjs/redux/tree/master/examples/todos" target="_blank" rel="noopener noreferrer">in your browser via CodeSandbox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="creating-the-store"><a href="#creating-the-store" aria-hidden="true" class="header-anchor">#</a> Creating the store</h2> <p>First, let's look at the original <code>index.js</code> file in which we created our store:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./components/App'</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">)</span>

<span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>In this code, we pass our reducers to the Redux <code>createStore</code> function, which returns a <code>store</code> object. We then pass this object to the <code>react-redux</code> <code>Provider</code> component, which is rendered at the top of our component tree.</p> <p>This ensures that any time we connect to Redux in our app via <code>react-redux</code> <code>connect</code>, the store is available to our components.</p> <h2 id="extending-redux-functionality"><a href="#extending-redux-functionality" aria-hidden="true" class="header-anchor">#</a> Extending Redux functionality</h2> <p>Most apps extend the functionality of their Redux store by adding middleware or store enhancers <em>(note: middleware is common, enhancers are less common)</em>. Middleware adds extra functionality to the Redux <code>dispatch</code> function; enhancers add extra functionality to the Redux store.</p> <p>We will add two middlewares and one enhancer:</p> <ul><li>The <a href="https://github.com/reduxjs/redux-thunk" target="_blank" rel="noopener noreferrer"><code>redux-thunk</code> middleware<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which allows simple asynchronous use of dispatch.</li> <li>A middleware which logs dispatched actions and the resulting new state.</li> <li>An enhancer which logs the time taken for the reducers to process each action.</li></ul> <h4 id="install-redux-thunk"><a href="#install-redux-thunk" aria-hidden="true" class="header-anchor">#</a> Install <code>redux-thunk</code></h4> <div class="language-sh extra-class"><pre class="language-text"><code>npm install --save redux-thunk
</code></pre></div><h4 id="middleware-logger-js"><a href="#middleware-logger-js" aria-hidden="true" class="header-anchor">#</a> middleware/logger.js</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">logger</span> <span class="token operator">=</span> <span class="token parameter">store</span> <span class="token operator">=&gt;</span> <span class="token parameter">next</span> <span class="token operator">=&gt;</span> <span class="token parameter">action</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'dispatching'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'next state'</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">groupEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> logger
</code></pre></div><h4 id="enhancers-monitorreducer-js"><a href="#enhancers-monitorreducer-js" aria-hidden="true" class="header-anchor">#</a> enhancers/monitorReducer.js</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">round</span> <span class="token operator">=</span> <span class="token parameter">number</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>number <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span>

<span class="token keyword">const</span> <span class="token function-variable function">monitorReducerEnhancer</span> <span class="token operator">=</span> <span class="token parameter">createStore</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token parameter">reducer<span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  enhancer</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">monitoredReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> start <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> newState <span class="token operator">=</span> <span class="token function">reducer</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span>
    <span class="token keyword">const</span> end <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> diff <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'reducer process time:'</span><span class="token punctuation">,</span> diff<span class="token punctuation">)</span>

    <span class="token keyword">return</span> newState
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token function">createStore</span><span class="token punctuation">(</span>monitoredReducer<span class="token punctuation">,</span> initialState<span class="token punctuation">,</span> enhancer<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> monitorReducerEnhancer
</code></pre></div><p>Let's add these to our existing <code>index.js</code>.</p> <ul><li><p>First, we need to import <code>redux-thunk</code> plus our <code>loggerMiddleware</code> and <code>monitorReducerEnhancer</code>, plus two extra functions provided by Redux: <code>applyMiddleware</code> and <code>compose</code>.</p></li> <li><p>We then use <code>applyMiddleware</code> to create a store enhancer which will apply our <code>loggerMiddleware</code> and the <code>thunkMiddleware</code> to the store's dispatch function.</p></li> <li><p>Next, we use <code>compose</code> to compose our new <code>middlewareEnhancer</code> and our <code>monitorReducerEnhancer</code> into one function.</p> <p>This is needed because you can only pass one enhancer into <code>createStore</code>. To use multiple enhancers, you must first compose them into a single larger enhancer, as shown in this example.</p></li> <li><p>Finally, we pass this new <code>composedEnhancers</code> function into <code>createStore</code> as its third argument. <em>Note: the second argument, which we will ignore, lets you preloaded state into the store.</em></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> applyMiddleware<span class="token punctuation">,</span> createStore<span class="token punctuation">,</span> compose <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> thunkMiddleware <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>
<span class="token keyword">import</span> loggerMiddleware <span class="token keyword">from</span> <span class="token string">'./middleware/logger'</span>
<span class="token keyword">import</span> monitorReducerEnhancer <span class="token keyword">from</span> <span class="token string">'./enhancers/monitorReducer'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./components/App'</span>

<span class="token keyword">const</span> middlewareEnhancer <span class="token operator">=</span> <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>loggerMiddleware<span class="token punctuation">,</span> thunkMiddleware<span class="token punctuation">)</span>
<span class="token keyword">const</span> composedEnhancers <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>
  middlewareEnhancer<span class="token punctuation">,</span>
  monitorReducerEnhancer
<span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> composedEnhancers<span class="token punctuation">)</span>

<span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h2 id="problems-with-this-approach"><a href="#problems-with-this-approach" aria-hidden="true" class="header-anchor">#</a> Problems with this approach</h2> <p>While this code works, for a typical app it is not ideal.</p> <p>Most apps use more than one middleware, and each middleware often requires some initial setup. The extra noise added to the <code>index.js</code> can quickly make it hard to maintain, because the logic is not cleanly organised.</p> <h2 id="the-solution-configurestore"><a href="#the-solution-configurestore" aria-hidden="true" class="header-anchor">#</a> The solution: <code>configureStore</code></h2> <p>The solution to this problem is to create a new <code>configureStore</code> function which encapsulates our store creation logic, which can then be located in its own file to ease extensibility.</p> <p>The end goal is for our <code>index.js</code> to look like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./components/App'</span>
<span class="token keyword">import</span> configureStore <span class="token keyword">from</span> <span class="token string">'./configureStore'</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>All the logic related to configuring the store - including importing reducers, middleware, and enhancers - is handled in a dedicated file.</p> <p>To achieve this, <code>configureStore</code> function looks like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> applyMiddleware<span class="token punctuation">,</span> compose<span class="token punctuation">,</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> thunkMiddleware <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span>

<span class="token keyword">import</span> monitorReducersEnhancer <span class="token keyword">from</span> <span class="token string">'./enhancers/monitorReducers'</span>
<span class="token keyword">import</span> loggerMiddleware <span class="token keyword">from</span> <span class="token string">'./middleware/logger'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token parameter">preloadedState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> middlewares <span class="token operator">=</span> <span class="token punctuation">[</span>loggerMiddleware<span class="token punctuation">,</span> thunkMiddleware<span class="token punctuation">]</span>
  <span class="token keyword">const</span> middlewareEnhancer <span class="token operator">=</span> <span class="token function">applyMiddleware</span><span class="token punctuation">(</span><span class="token operator">...</span>middlewares<span class="token punctuation">)</span>

  <span class="token keyword">const</span> enhancers <span class="token operator">=</span> <span class="token punctuation">[</span>middlewareEnhancer<span class="token punctuation">,</span> monitorReducersEnhancer<span class="token punctuation">]</span>
  <span class="token keyword">const</span> composedEnhancers <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token operator">...</span>enhancers<span class="token punctuation">)</span>

  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">,</span> preloadedState<span class="token punctuation">,</span> composedEnhancers<span class="token punctuation">)</span>

  <span class="token keyword">return</span> store
<span class="token punctuation">}</span>
</code></pre></div><p>This function follows the same steps outlined above, with some of the logic split out to prepare for extension, which will make it easier to add more in future:</p> <ul><li><p>Both <code>middlewares</code> and <code>enhancers</code> are defined as arrays, separate from the functions which consume them.</p> <p>This allows us to easily add more middleware or enhancers based on different conditions.</p> <p>For example, it is common to add some middleware only when in development mode, which is easily achieved by pushing to the middlewares array inside an if statement:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  middlewares<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>secretMiddleware<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>A <code>preloadedState</code> variable is passed through to <code>createStore</code> in case we want to add this later.</p></li></ul> <p>This also makes our <code>createStore</code> function easier to reason about - each step is clearly separated, which makes it more obvious what exactly is happening.</p> <h2 id="integrating-the-devtools-extension"><a href="#integrating-the-devtools-extension" aria-hidden="true" class="header-anchor">#</a> Integrating the devtools extension</h2> <p>Another common feature which you may wish to add to your app is the <code>redux-devtools-extension</code> integration.</p> <p>The extension is a suite of tools which give you absolute control over your Redux store - it allows you to inspect and replay actions, explore your state at different times, dispatch actions directly to the store, and much more. <a href="https://github.com/zalmoxisus/redux-devtools-extension" target="_blank" rel="noopener noreferrer">Click here to read more about the available features.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>There are several ways to integrate the extension, but we will use the most convenient option.</p> <p>First, we install the package via npm:</p> <div class="language-sh extra-class"><pre class="language-text"><code>npm install --save-dev redux-devtools-extension
</code></pre></div><p>Next, we remove the <code>compose</code> function which we imported from <code>redux</code>, and replace it with a new <code>composeWithDevTools</code> function imported from <code>redux-devtools-extension</code>.</p> <p>The final code looks like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> applyMiddleware<span class="token punctuation">,</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> thunkMiddleware <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> composeWithDevTools <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux-devtools-extension'</span>

<span class="token keyword">import</span> monitorReducersEnhancer <span class="token keyword">from</span> <span class="token string">'./enhancers/monitorReducers'</span>
<span class="token keyword">import</span> loggerMiddleware <span class="token keyword">from</span> <span class="token string">'./middleware/logger'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token parameter">preloadedState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> middlewares <span class="token operator">=</span> <span class="token punctuation">[</span>loggerMiddleware<span class="token punctuation">,</span> thunkMiddleware<span class="token punctuation">]</span>
  <span class="token keyword">const</span> middlewareEnhancer <span class="token operator">=</span> <span class="token function">applyMiddleware</span><span class="token punctuation">(</span><span class="token operator">...</span>middlewares<span class="token punctuation">)</span>

  <span class="token keyword">const</span> enhancers <span class="token operator">=</span> <span class="token punctuation">[</span>middlewareEnhancer<span class="token punctuation">,</span> monitorReducersEnhancer<span class="token punctuation">]</span>
  <span class="token keyword">const</span> composedEnhancers <span class="token operator">=</span> <span class="token function">composeWithDevTools</span><span class="token punctuation">(</span><span class="token operator">...</span>enhancers<span class="token punctuation">)</span>

  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">,</span> preloadedState<span class="token punctuation">,</span> composedEnhancers<span class="token punctuation">)</span>

  <span class="token keyword">return</span> store
<span class="token punctuation">}</span>
</code></pre></div><p>And that's it!</p> <p>If we now visit our app via a browser with the devtools extension installed, we can explore and debug using a powerful new tool.</p> <h2 id="hot-reloading"><a href="#hot-reloading" aria-hidden="true" class="header-anchor">#</a> Hot reloading</h2> <p>Another powerful tool which can make the development process a lot more intuitive is hot reloading, which means replacing pieces of code without restarting your whole app.</p> <p>For example, consider what happens when you run your app, interact with it for a while, and then decide to make changes to one of your reducers. Normally, when you make those changes your app will restart, reverting your Redux state to its initial value.</p> <p>With hot module reloading enabled, only the reducer you changed would be reloaded, allowing you to change your code <em>without</em> resetting the state every time. This makes for a much faster development process.</p> <p>We'll add hot reloading both to our Redux reducers and to our React components.</p> <p>First, let's add it to our <code>configureStore</code> function:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> applyMiddleware<span class="token punctuation">,</span> compose<span class="token punctuation">,</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> thunkMiddleware <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span>

<span class="token keyword">import</span> monitorReducersEnhancer <span class="token keyword">from</span> <span class="token string">'./enhancers/monitorReducers'</span>
<span class="token keyword">import</span> loggerMiddleware <span class="token keyword">from</span> <span class="token string">'./middleware/logger'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token parameter">preloadedState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> middlewares <span class="token operator">=</span> <span class="token punctuation">[</span>loggerMiddleware<span class="token punctuation">,</span> thunkMiddleware<span class="token punctuation">]</span>
  <span class="token keyword">const</span> middlewareEnhancer <span class="token operator">=</span> <span class="token function">applyMiddleware</span><span class="token punctuation">(</span><span class="token operator">...</span>middlewares<span class="token punctuation">)</span>

  <span class="token keyword">const</span> enhancers <span class="token operator">=</span> <span class="token punctuation">[</span>middlewareEnhancer<span class="token punctuation">,</span> monitorReducersEnhancer<span class="token punctuation">]</span>
  <span class="token keyword">const</span> composedEnhancers <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token operator">...</span>enhancers<span class="token punctuation">)</span>

  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">,</span> preloadedState<span class="token punctuation">,</span> composedEnhancers<span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./reducers'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">replaceReducer</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> store
<span class="token punctuation">}</span>
</code></pre></div><p>The new code is wrapped in an <code>if</code> statement, so it only runs when our app is not in production mode, and only if the <code>module.hot</code> feature is available.</p> <p>Bundlers like Webpack and Parcel support a <code>module.hot.accept</code> method to specify which module should be hot reloaded, and what should happen when the module changes. In this case, we're watching the <code>./reducers</code> module, and passing the updated <code>rootReducer</code> to the <code>store.replaceReducer</code> method when it changes.</p> <p>We'll also use the same pattern in our <code>index.js</code> to hot reload any changes to our React components:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./components/App'</span>
<span class="token keyword">import</span> configureStore <span class="token keyword">from</span> <span class="token string">'./configureStore'</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">renderApp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./components/App'</span><span class="token punctuation">,</span> renderApp<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">renderApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>The only extra change here is that we have encapsulated our app's rendering into a new <code>renderApp</code> function, which we now call to re-render the app.</p> <h2 id="simplifying-setup-with-redux-starter-kit"><a href="#simplifying-setup-with-redux-starter-kit" aria-hidden="true" class="header-anchor">#</a> Simplifying Setup with Redux Starter Kit</h2> <p>The Redux core library is deliberately unopinionated. It lets you decide how you want to handle everything, like store
setup, what your state contains, and how you want to build your reducers.</p> <p>This is good in some cases, because it gives you flexibility, but that flexibility isn't always needed. Sometimes we
just want the simplest possible way to get started, with some good default behavior out of the box.</p> <p>The <a href="https://redux-starter-kit.js.org/" target="_blank" rel="noopener noreferrer">Redux Starter Kit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> package is designed to help simplify several common Redux use cases, including store setup.
Let's see how it can help improve the store setup process.</p> <p>Redux Starter Kit includes a prebuilt <a href="https://redux-starter-kit.js.org/api/configureStore" target="_blank" rel="noopener noreferrer"><code>configureStore</code> function<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> like
the one shown in the earlier examples.</p> <p>The fastest way to use is it is to just pass the root reducer function:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> configureStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux-starter-kit'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  reducer<span class="token punctuation">:</span> rootReducer
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre></div><p>Note that it accepts an object with named parameters, to make it clearer what you're passing in.</p> <p>By default, <code>configureStore</code> from Redux Starter Kit will:</p> <ul><li>Call <code>applyMiddleware</code> with <a href="https://redux-starter-kit.js.org/api/getDefaultMiddleware" target="_blank" rel="noopener noreferrer">a default list of middleware, including <code>redux-thunk</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, and some development-only middleware that catch common mistakes like mutating state</li> <li>Call <code>composeWithDevTools</code> to set up the Redux DevTools Extension</li></ul> <p>Here's what the hot reloading example might look like using Redux Starter Kit:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> configureStore<span class="token punctuation">,</span> getDefaultMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux-starter-kit'</span>

<span class="token keyword">import</span> monitorReducersEnhancer <span class="token keyword">from</span> <span class="token string">'./enhancers/monitorReducers'</span>
<span class="token keyword">import</span> loggerMiddleware <span class="token keyword">from</span> <span class="token string">'./middleware/logger'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">configureAppStore</span><span class="token punctuation">(</span><span class="token parameter">preloadedState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    reducer<span class="token punctuation">:</span> rootReducer<span class="token punctuation">,</span>
    middleware<span class="token punctuation">:</span> <span class="token punctuation">[</span>loggerMiddleware<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token function">getDefaultMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    preloadedState<span class="token punctuation">,</span>
    enhancers<span class="token punctuation">:</span> <span class="token punctuation">[</span>monitorReducersEnhancer<span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./reducers'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">replaceReducer</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> store
<span class="token punctuation">}</span>
</code></pre></div><p>That definitely simplifies some of the setup process.</p> <h2 id="next-steps"><a href="#next-steps" aria-hidden="true" class="header-anchor">#</a> Next Steps</h2> <p>Now that you know how to encapsulate your store configuration to make it easier to maintain, you can <a href="/Redux-VuePress/advanced/">learn more about the advanced features Redux provides</a>, or take a closer look at some of the <a href="/Redux-VuePress/introduction/Ecosystem.html#debuggers-and-viewers">extensions available in the Redux ecosystem</a>.</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        
        <a href="/Redux-VuePress/recipes/recipes.html" class="prev">
          Recipes: Index
        </a></span> <span class="next"><a href="/Redux-VuePress/recipes/MigratingToRedux.html">
          Migrating to Redux
        </a>
        
      </span></p></div> </div> <!----></div></div>
    <script src="/Redux-VuePress/assets/js/app.8c65f330.js" defer></script><script src="/Redux-VuePress/assets/js/52.3368200f.js" defer></script>
  </body>
</html>
